<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Utopia Formatter - Text Formatter for Utopia Forum</title>
    <link rel="stylesheet" href="css/main.css">
</head>
<body>
    <header>
        <div class="header-content">
            <div class="header-text">
                <h1>Utopia News & Logs Parser</h1>
                <p>Clean, summarize, and format text for the Utopia Kingdom Forum</p>
            </div>
        </div>
    </header>

    <main class="container">
        <section class="input-section">
            <h2>Input Text</h2>
            <label for="input-text" class="textarea-label">Paste your Kingdom News, Province News, or Province Logs text below:</label>
            <span id="detect-badge" class="detect-badge hidden" aria-live="polite"></span>
            <textarea 
                id="input-text" 
                placeholder="Paste your text here..."
                rows="10"
                cols="80"
            ></textarea>
            <div class="button-group">
                <button id="parse-btn">Parse Text</button>
                <button id="clear-btn">Clear</button>
            </div>
            <details class="kbd-shortcuts">
                <summary>Keyboard shortcuts</summary>
                <ul>
                    <li><kbd>Ctrl</kbd>+<kbd>Enter</kbd> — Parse text</li>
                    <li><kbd>Esc</kbd> — Clear</li>
                    <li><kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>C</kbd> — Copy output</li>
                </ul>
            </details>
        </section>

        <section class="output-section">
            <h2>Formatted Output</h2>
            <label for="output-text" class="textarea-label">Formatted output — copy and paste into the Utopia forum:</label>
            <textarea
                id="output-text"
                readonly
                rows="10"
                cols="80"
                placeholder="Formatted text will appear here..."
            ></textarea>
            <div class="button-group">
                <button id="copy-btn">Copy to Clipboard</button>
            </div>
            <div id="copy-feedback" class="feedback hidden">Copied to clipboard!</div>
        </section>

        <section id="advanced-settings" class="adv-panel hidden" aria-label="Advanced settings">
            <button id="adv-toggle" class="adv-toggle-btn" aria-expanded="false" aria-controls="adv-content">
                <span class="adv-toggle-icon" aria-hidden="true">▶</span>
                Advanced Settings
            </button>
            <div id="adv-content" hidden></div>
        </section>
    </main>

    <footer>
        <p>&copy; 2026 UtopiaFormatter - Built for improving collaboration in the Utopia Kingdom Forum</p>
    </footer>

    <script>window.APP_CONFIG = window.APP_CONFIG || { logEndpoint: null };</script>
    <script src="js/config.js" onerror="/* config.js not present — logging disabled */"></script>
    <script src="js/parser.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
